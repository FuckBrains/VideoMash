import indicoio
indicoio.config.api_key = 'a8d198cd3ee11bdf9744b7cf9c11e932'

def main():
    fileName=input("Enter Name of file : ")
    path="./media/documents/"+str(fileName)

    with open(path,"r") as f:
        wordsList = f.readlines()
    f.close()

    emotions = indicoio.emotion(wordsList)

    l = len(wordsList)
    
    # sample data
    # emotions = [
    #     {'anger': 0.9230890274047852, 'joy': 0.004340257029980421, 'fear': 0.04846799001097679, 'sadness': 0.023275144398212433, 'surprise': 0.0008275593863800168},
    #     {'anger': 0.19769109785556793, 'surprise': 0.27042293548583984, 'sadness': 0.42120039463043213, 'fear': 0.06262679398059845, 'joy': 0.04805883765220642},
    #     {'anger': 0.1688469797372818, 'joy': 0.18641340732574463, 'fear': 0.40691113471984863, 'sadness': 0.19009754061698914, 'surprise': 0.047730907797813416},
    #     {'anger': 0.33058416843414307, 'surprise': 0.11812461167573929, 'sadness': 0.2856004536151886, 'fear': 0.20114965736865997, 'joy': 0.06454112380743027},
    #     {'anger': 0.5125610828399658, 'surprise': 0.1358812153339386, 'sadness': 0.23964005708694458, 'fear': 0.05744148790836334, 'joy': 0.05447619408369064},
    #     {'anger': 0.6591682434082031, 'surprise': 0.03832230344414711, 'sadness': 0.1994064748287201, 'fear': 0.0723503828048706, 'joy': 0.03075263276696205},
    #     {'anger': 0.1207771897315979, 'surprise': 0.6892220973968506, 'sadness': 0.09074152261018753, 'fear': 0.05492199584841728, 'joy': 0.04433722794055939},
    #     {'anger': 0.05979975685477257, 'joy': 0.376514196395874, 'fear': 0.2928677499294281, 'sadness': 0.127129465341568, 'surprise': 0.1436888575553894},
    #     {'anger': 0.30995237827301025, 'joy': 0.31881290674209595, 'sadness': 0.2615756690502167, 'fear': 0.07520301640033722, 'surprise': 0.03445598855614662},
    #     {'anger': 0.7279050946235657, 'joy': 0.039031945168972015, 'fear': 0.15390577912330627, 'sadness': 0.06950785219669342, 'surprise': 0.00964934378862381},
    #     {'anger': 0.32099318504333496, 'joy': 0.06450030207633972, 'fear': 0.316763699054718, 'sadness': 0.2488223761320114, 'surprise': 0.048920441418886185},
    #     {'anger': 0.7052339911460876, 'joy': 0.0928378701210022, 'fear': 0.11857788264751434, 'sadness': 0.07340958714485168, 'surprise': 0.009940635412931442},
    #     {'anger': 0.7608954310417175, 'joy': 0.054866038262844086, 'fear': 0.09608500450849533, 'sadness': 0.08012372255325317, 'surprise': 0.008029870688915253},
    #     {'anger': 0.2688775658607483, 'joy': 0.13410551846027374, 'sadness': 0.35223591327667236, 'fear': 0.17908066511154175, 'surprise': 0.06570031493902206},
    #     {'anger': 0.15753118693828583, 'surprise': 0.5807714462280273, 'fear': 0.12094814330339432, 'sadness': 0.07014165818691254, 'joy': 0.07060757279396057},
    #     {'anger': 0.4570481479167938, 'joy': 0.10285504162311554, 'fear': 0.2670888602733612, 'sadness': 0.16162192821502686, 'surprise': 0.011386057361960411},
    #     {'anger': 0.37105387449264526, 'surprise': 0.08005696535110474, 'sadness': 0.3721773326396942, 'fear': 0.1410370171070099, 'joy': 0.03567483276128769},
    #     {'anger': 0.09481849521398544, 'surprise': 0.1998836100101471, 'sadness': 0.5919808745384216, 'fear': 0.030484525486826897, 'joy': 0.08283250033855438},
    #     {'anger': 0.7280728220939636, 'surprise': 0.023911578580737114, 'sadness': 0.2120113968849182, 'fear': 0.022116102278232574, 'joy': 0.01388813927769661},
    #     {'anger': 0.4034455120563507, 'joy': 0.10428942739963531, 'sadness': 0.2531883716583252, 'fear': 0.15059952437877655, 'surprise': 0.08847714960575104},
    #     {'anger': 0.5714541673660278, 'surprise': 0.19374990463256836, 'sadness': 0.1653754711151123, 'fear': 0.049108680337667465, 'joy': 0.020311739295721054},
    #     {'anger': 0.10954432189464569, 'surprise': 0.5247673988342285, 'fear': 0.26952335238456726, 'sadness': 0.08487975597381592, 'joy': 0.011285179294645786},
    #     {'anger': 0.16692101955413818, 'surprise': 0.07220224291086197, 'fear': 0.4119057059288025, 'sadness': 0.2817341983318329, 'joy': 0.06723679602146149},
    #     {'anger': 0.1408868432044983, 'surprise': 0.4674939513206482, 'sadness': 0.21568429470062256, 'fear': 0.07123591005802155, 'joy': 0.104699045419693},
    #     {'anger': 0.14190323650836945, 'joy': 0.41794300079345703, 'fear': 0.23747171461582184, 'sadness': 0.13855834305286407, 'surprise': 0.06412374973297119}
    # ]

    anger=0
    joy=0
    fear=0
    sadness=0
    surprise=0

    for i in emotions:
        anger += i['anger']
        joy += i['joy']
        fear += i['fear']
        sadness += i['sadness']
        surprise += i['surprise']

    anger = anger/l
    joy = joy/l
    fear = fear/l
    sadness = sadness/l
    surprise = surprise/l

    print("anger : "+str(anger))
    print("joy : "+str(joy))
    print("fear : "+str(fear))
    print("sadness : "+str(sadness))
    print("surprise : "+str(surprise))



if __name__ == "__main__":
    main()
